"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8324],{20922:function(n,i,t){t.d(i,{Bc:function(){return o},T1:function(){return u},im:function(){return r}});var e=t(80822),a=t(13264),r=(0,a.Z)(e.Z)(function(n){return n.theme,{display:"flex",flexDirection:"column",gap:"20px","@media(max-width: 1024px)":{paddingTop:"16px",gap:"16px"}}}),o=(0,a.Z)(e.Z)(function(n){return n.theme,{display:"flex",justifyContent:"space-between",alignItems:"center",".MuiFormGroup-root":{gap:"4px !important"},".MuiFormControlLabel-root":{padding:"0px 12px 0px 0px"}}}),u=(0,a.Z)(e.Z)(function(n){return n.theme,{display:"flex",gap:"4px"}})},88324:function(n,i,t){t.d(i,{a:function(){return w}});var e=t(11010),a=t(72253),r=t(14932),o=t(24043),u=t(248),l=t(10092),c=t(35944),d=t(67294),s=t(19959),g=t(54887),f=t(4480),h=t(9927),C=t(78841),p=t(46206),v=t(29509),_=[{city:"Dhaka",iata:"DAC",name:"Bangladesh, Hazrat Shahjalal International Airport (DAC)"},{city:"Cox's Bazar",iata:"CXB",name:"Bangladesh, Cox's Bazar Airport (CXB)"},{city:"New York",iata:"JFK",name:"United States, John F Kennedy International Airport (JFK)"},{id:7,city:"Bangkok",iata:"BKK",name:"Thailand, Suvarnabhumi Airport (BKK)"},{id:8,city:"Kuala Lumpur",iata:"KUL",name:"Malaysia, Kuala Lumpur International Airport (KUL)"},{city:"Chittagong",iata:"CGP",name:"Bangladesh, Shah Amanat International Airport (CGP)"},{city:"Kolkata",iata:"CCU",name:"India, Netaji Subhash Chandra Bose International Airport (CCU)"}],O=t(20922),y=t(11163),m=t.n(y),b=t(68574),T=t(73833),D=t(25294),I=t(65259),S=t(50361),R=t.n(S),k=t(65673),B=t(9094),x=t(94355),Z=t(40388),w=function(n){var i,t,S,w=n.onModifySearch,A=(0,B.a)().user,K=(0,x.useResponsive)("lg"),M=(0,y.useRouter)(),F=(0,f.sJ)(h.j4).airlineFilterCode,U=(0,o._)((0,f.FV)(h.SK),2),N=U[0],Y=U[1],L=(0,o._)((0,f.FV)(h.$L),2),E=L[0],J=L[1],W=N.tripType,G=N.cityOptions,P=N.origin,X=N.destination,j=N.numberOfCity,q=N.date,z=N.travellers,V=N.cabinClass,H=(0,o._)((0,d.useState)(),2),$=H[0],Q=H[1];(0,d.useEffect)(function(){var n;(W===C.lg.MULTI_CITY||W===C.lg.ROUND_TRIP)&&(null===(n=N.numberOfCity)||void 0===n?void 0:n.length)<2&&Y(function(n){var i,t,e=R()(n.date[n.date.length-1]),o=n.date.length;return(0,r._)((0,a._)({},n),{numberOfCity:(0,u._)(n.numberOfCity).concat([{uid:(0,s.h)()}]),cityOptions:(0,u._)(n.cityOptions).concat([{origin:_,destination:_}]),origin:(0,u._)(n.origin).concat([_[null===(i=N.numberOfCity)||void 0===i?void 0:i.length]]),destination:(0,u._)(n.destination).concat([_[(null===(t=N.numberOfCity)||void 0===t?void 0:t.length)+1]]),date:1===o?(0,u._)(n.date).concat([e.add(3,"days")]):(0,u._)(n.date)})})},[null===(S=N.numberOfCity)||void 0===S?void 0:S.length,W]),(0,d.useEffect)(function(){var n=(0,I.B)(M),i=(0,I.T)(null==n?void 0:n.data);i&&J(function(n){return(0,r._)((0,a._)({},n),{query:i})})},[]);var nn=(i=(0,e._)(function(n){var i,t,e,o;return(0,l.Jh)(this,function(l){switch(l.label){case 0:if(i=n.e,t=n.isOrigin,e=n.i,(null==(o=i.target.value)?void 0:o.length)<2)return[2];return[4,(0,b.uV)(o).then(function(n){if(t){var i=(0,u._)(G);i[e]=(0,r._)((0,a._)({},i[e]),{origin:n}),Y(function(n){return(0,r._)((0,a._)({},n),{cityOptions:i})});return}var o=(0,u._)(G);o[e]=(0,r._)((0,a._)({},o[e]),{destination:n}),Y(function(n){return(0,r._)((0,a._)({},n),{cityOptions:o})})})];case 1:return l.sent(),[2]}})}),function(n){return i.apply(this,arguments)}),ni=function(n){var i=n.type,t=void 0===i?"adult":i,e=n.method,o=(0,a._)({},z),u=7-o.adult-o.kid,l=7-o.adult-o.child;switch(void 0===e?"increase":e){case"increase":"adult"===t&&o.adult+o.child+o.kid<7&&(o.adult=o.adult+1),"child"===t&&o.child<u&&(o.child=o.child+1),"kid"===t&&o.kid<l&&(o.kid=o.kid+1),"infant"===t&&o.infant<7&&o.infant<o.adult&&(o.infant=o.infant+1);break;case"decrease":"adult"===t&&o.adult>1&&(o.adult=o.adult-1,o.infant>o.adult&&(o.infant=o.adult)),"child"===t&&o.child>0&&(o.child=o.child-1),"kid"===t&&o.kid>0&&(o.kid=o.kid-1),"infant"===t&&o.infant>0&&(o.infant=o.infant-1)}Y(function(n){return(0,r._)((0,a._)({},n),{travellers:o})})},nt=function(n){Y(function(i){return(0,r._)((0,a._)({},i),{cabinClass:n.target.value})})},ne=function(n){var i=n.option,t=n.i,e=n.reIssue,o=(0,u._)(P);if(o[t]=i,Y(function(n){return(0,r._)((0,a._)({},n),{origin:o})}),t-1>=0&&e){var l=(0,u._)(X);l[t-1]=i,Y(function(n){return(0,r._)((0,a._)({},n),{destination:l})})}},na=function(n){var i=n.option,t=n.i,e=n.reIssue,o=(0,u._)(X);if(o[t]=i,Y(function(n){return(0,r._)((0,a._)({},n),{destination:o})}),t+1>=(null==j?void 0:j.length)&&e){var l=(0,u._)(X);l[t+1]=i,Y(function(n){return(0,r._)((0,a._)({},n),{origin:l})})}},nr=function(n){var i=n.date,t=n.i;if(W===C.lg.ONE_WAY){var e=q.map(function(n,t){return 0===t?i:null==i?void 0:i.clone().add(3*t,"days")});Y(function(n){return(0,r._)((0,a._)({},n),{date:e})});return}var o=R()(q);o[t]=i,Y(function(n){return(0,r._)((0,a._)({},n),{date:o})})},no=function(n){var i=n.startDate,t=n.endDate;Y(function(n){var e=R()(n.date).map(function(n,e){return 0===e?i:1==e?t:null==t?void 0:t.clone().add((e-1)*3,"days")});return(0,r._)((0,a._)({},n),{date:e})})},nu=function(n){var i=(0,u._)(P),t=(0,u._)(X);i[n]=X[n],t[n]=P[n],Y(function(n){return(0,r._)((0,a._)({},n),{origin:i,destination:t})})},nl=function(){var n;(null===(n=N.numberOfCity)||void 0===n?void 0:n.length)<5&&Y(function(n){var i,t,e=R()(n.date[n.date.length-1]);return(0,r._)((0,a._)({},n),{numberOfCity:(0,u._)(n.numberOfCity).concat([{uid:(0,s.h)()}]),cityOptions:(0,u._)(n.cityOptions).concat([{origin:_,destination:_}]),origin:(0,u._)(n.origin).concat([_[null===(i=N.numberOfCity)||void 0===i?void 0:i.length]]),destination:(0,u._)(n.destination).concat([_[(null===(t=N.numberOfCity)||void 0===t?void 0:t.length)+1]]),date:(0,u._)(n.date).concat([e.add(3,"days")])})})},nc=function(n){var i,t=function(n,i){var t=(0,u._)(n);return t.splice(i,1),t};(null===(i=N.numberOfCity)||void 0===i?void 0:i.length)>2&&Y(function(i){return(0,r._)((0,a._)({},i),{numberOfCity:t(i.numberOfCity,n),origin:t(i.origin,n),destination:t(i.destination,n),date:t(i.date,n)})})},nd=function(){var n=W===C.lg.ONE_WAY?N.date.slice(0,1):W===C.lg.ROUND_TRIP?N.date.slice(0,2):N.date.slice(0,N.date.length-1);if(!(0,D.tt)(n))return x.toast.error({title:"Invalid Date Selection!",description:"Date selection has to be in consecutive order"});if((0,k.w)((0,a._)({currency:"BDT",email:null==A?void 0:A.email},E)),"function"==typeof w){w(N);return}var i=g.Z.stringify(E);return i=M.query.campaign?"".concat(i,"&campaign=").concat(M.query.campaign):F?"".concat(i,"&airlineCode=").concat(F):i,m().push("/".concat(T.UA,"?").concat(i))},ns=(t=(0,e._)(function(n){var i,t,e,r,o,u,c;return(0,l.Jh)(this,function(l){switch(l.label){case 0:return i=n.origin,t=n.destination,e=n.date,Q({min:null,max:null,fare:null}),u="origin=".concat(null===(r=i[0])||void 0===r?void 0:r.iata,"&destination=").concat(null===(o=t[0])||void 0===o?void 0:o.iata,"&depart=").concat(e[0].format("YYYY-MM-DD")),[4,(0,b.dm)(u)];case 1:return(c=l.sent())&&Q(function(n){return(0,a._)({},n,c)}),[2]}})}),function(n){return t.apply(this,arguments)});return(0,c.BX)(O.im,{children:[(0,c.BX)(O.Bc,{children:[(0,c.tZ)(x.STRadioButtonGroup,{options:p.U,value:W,onChange:function(n){Y(function(i){return(0,r._)((0,a._)({},i),{tripType:n.target.value})})},filled:!K}),!K&&(0,c.BX)(O.T1,{children:[(0,c.tZ)(x.STTravellerSelector,{adult:z.adult,child:z.child,kid:z.kid,infant:z.infant,onTravellerChange:ni}),(0,c.tZ)(x.STCabinClassSelector,{options:v.I,value:V,onChange:nt})]})]}),W===C.lg.ONE_WAY&&(K?(0,c.tZ)(x.STTripOneWayMobile,{cities:G,origin:P,destination:X,date:q,advanceSearchResult:$,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDate:nr,onCalendarOpen:function(){return ns({origin:P,destination:X,date:q})},travellerData:z,onTravellerChange:ni,cabinClasses:v.I,selectedCabinClass:V,onChangeCabinClass:nt,swapRoutes:nu,onSearch:nd}):(0,c.tZ)(x.STTripOneWay,{cities:G,origin:P,destination:X,date:q,advanceSearchResult:$,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDate:nr,onCalendarOpen:function(){return ns({origin:P,destination:X,date:q})},swapRoutes:nu,onSearch:nd})),W===C.lg.ROUND_TRIP&&(K?(0,c.tZ)(x.STTripRoundMobile,{cities:G,origin:P,destination:X,date:q,advanceSearchResult:$,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDateRange:no,onCalendarOpen:function(){return ns({origin:P,destination:X,date:q})},travellerData:z,onTravellerChange:ni,cabinClasses:v.I,selectedCabinClass:V,onChangeCabinClass:nt,swapRoutes:nu,onSearch:nd}):(0,c.tZ)(x.STTripRound,{cities:G,origin:P,destination:X,date:q,advanceSearchResult:$,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDateRange:no,onCalendarOpen:function(){return ns({origin:P,destination:X,date:q})},swapRoutes:nu,onSearch:nd})),W===C.lg.MULTI_CITY&&(K?(0,c.tZ)(x.STTripMultiCityMobile,{numberOfCity:j,cities:G,origin:P,destination:X,date:q,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDate:nr,travellerData:z,onTravellerChange:ni,cabinClasses:v.I,selectedCabinClass:V,onChangeCabinClass:nt,addFlight:nl,removeFlight:nc,swapRoutes:nu,onSearch:nd}):(0,c.tZ)(x.STTripMultiCity,{numberOfCity:j,cities:G,origin:P,destination:X,date:q,onChangeOriginInput:function(n,i){return nn({e:n,isOrigin:!0,i:i})},onChangeDestinationInput:function(n,i){return nn({e:n,isOrigin:!1,i:i})},onChangeOrigin:ne,onChangeDestination:na,onChangeDate:nr,addFlight:nl,removeFlight:nc,swapRoutes:nu,onSearch:nd})),(0,c.tZ)(x.STRadioButtonGroup,{filled:!1,fillColor:"transparent",fullWidth:!1,options:Z.v,value:N.fareType,onChange:function(n){Y(function(i){return(0,r._)((0,a._)({},i),{fareType:n.target.value})})}})]})}}}]);